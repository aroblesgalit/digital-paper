(function(e){function t(t){for(var r,o,s=t[0],i=t[1],u=t[2],b=0,d=[];b<s.length;b++)o=s[b],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==c[i]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},c={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0411":function(e,t,n){},"0632":function(e,t,n){"use strict";n("ac05")},"0d95":function(e,t,n){"use strict";n("e82b")},"2ecb":function(e,t,n){"use strict";n("5e24")},"3a23":function(e,t,n){"use strict";n("8dfd")},"4dfc":function(e,t,n){},"4f2d":function(e,t,n){},"51f6":function(e,t,n){},5391:function(e,t,n){"use strict";n("4dfc")},"562e":function(e,t,n){"use strict";n("9165")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(e,t,n,c,a,o){var s=Object(r["z"])("Nav"),i=Object(r["z"])("router-view");return Object(r["s"])(),Object(r["f"])("div",null,[Object(r["i"])(s),Object(r["i"])(i)])}n("ac1f"),n("1276");var a=function(e){return Object(r["v"])("data-v-4c234f1e"),e=e(),Object(r["t"])(),e},o={class:"navbar navbar-expand-md navbar-dark bg-dark mb-4"},s={class:"container-fluid"},i=Object(r["h"])("Digital Paper"),u=a((function(){return Object(r["g"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(r["g"])("span",{class:"navbar-toggler-icon"})],-1)})),l={class:"collapse navbar-collapse",id:"navbarSupportedContent"},b={class:"navbar-nav me-auto mb-2 mb-md-0"},d={key:0,class:"nav-item"},m=Object(r["h"])("Register"),p={key:1,class:"nav-item"},f=Object(r["h"])("Dashboard"),O={key:2,class:"nav-item"},g=Object(r["h"])("Favorites"),j={key:3,class:"nav-item"},h=Object(r["h"])("Login"),v={key:4,class:"nav-item dropdown desktop-dropdown d-flex align-items-center"},y={href:"#",id:"navbarDropdown",class:"nav-link dropdown-toggle",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},w=["src"],k={key:1,class:"avatar"},x={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown"},S=Object(r["h"])("Profile"),T={key:5,class:"nav-item mobile-nav-item"},_=Object(r["h"])("Profile"),P={key:6,class:"nav-item mobile-nav-item"},E={key:7,class:"nav-item"};function R(e,t,n,c,a,R){var C=Object(r["z"])("router-link");return Object(r["s"])(),Object(r["f"])("nav",o,[Object(r["g"])("div",s,[Object(r["i"])(C,{class:"navbar-brand",to:"/"},{default:Object(r["I"])((function(){return[i]})),_:1}),u,Object(r["g"])("div",l,[Object(r["g"])("ul",b,[e.isAuthenticated?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["f"])("li",d,[Object(r["i"])(C,{class:"nav-link",to:"/register"},{default:Object(r["I"])((function(){return[m]})),_:1})])),e.isAuthenticated?(Object(r["s"])(),Object(r["f"])("li",p,[Object(r["i"])(C,{class:"nav-link",to:"/dashboard"},{default:Object(r["I"])((function(){return[f]})),_:1})])):Object(r["e"])("",!0),e.isAuthenticated?(Object(r["s"])(),Object(r["f"])("li",O,[Object(r["i"])(C,{class:"nav-link",to:"/favorites"},{default:Object(r["I"])((function(){return[g]})),_:1})])):Object(r["e"])("",!0),e.isAuthenticated?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["f"])("li",j,[Object(r["i"])(C,{class:"nav-link",to:"/login"},{default:Object(r["I"])((function(){return[h]})),_:1})])),e.isAuthenticated?(Object(r["s"])(),Object(r["f"])("li",v,[Object(r["g"])("a",y,[e.user.image?(Object(r["s"])(),Object(r["f"])("img",{key:0,src:e.user.image,alt:"User avatar"},null,8,w)):(Object(r["s"])(),Object(r["f"])("div",k,Object(r["B"])(e.user.firstName?e.user.firstName.split("")[0]:e.user.username.split("")[0]),1))]),Object(r["g"])("ul",x,[Object(r["g"])("li",null,[Object(r["i"])(C,{class:"dropdown-item",to:"/profile"},{default:Object(r["I"])((function(){return[S]})),_:1})]),Object(r["g"])("li",null,[Object(r["g"])("a",{onClick:t[0]||(t[0]=function(){return R.handleLogout&&R.handleLogout.apply(R,arguments)}),class:"dropdown-item",href:"#"},"Logout")])])])):Object(r["e"])("",!0),e.isAuthenticated?(Object(r["s"])(),Object(r["f"])("li",T,[Object(r["i"])(C,{class:"nav-link",to:"/profile"},{default:Object(r["I"])((function(){return[_]})),_:1})])):Object(r["e"])("",!0),e.isAuthenticated?(Object(r["s"])(),Object(r["f"])("li",P,[Object(r["g"])("a",{class:"nav-link",onClick:t[1]||(t[1]=function(){return R.handleLogout&&R.handleLogout.apply(R,arguments)}),href:"#"},"Logout")])):Object(r["e"])("",!0),e.isAuthenticated?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["f"])("li",E,[Object(r["g"])("a",{href:"#",class:"nav-link",onClick:t[2]||(t[2]=function(){return R.handleDemoLogin&&R.handleDemoLogin.apply(R,arguments)})},"Demo login")]))])])])])}var C=n("1da1"),I=n("5530"),B=(n("96cf"),n("5502")),U=Object(B["a"])("user"),A={name:"Nav",methods:Object(I["a"])(Object(I["a"])({},U.mapActions(["logoutUser","demoLogin","checkLoginStatus"])),{},{handleLogout:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.logoutUser();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},handleDemoLogin:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.demoLogin();case 3:return t.next=5,e.checkLoginStatus();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}),computed:Object(I["a"])(Object(I["a"])({},U.mapGetters(["isAuthenticated"])),U.mapState(["user"]))},D=(n("d2e7"),n("6b0d")),L=n.n(D);const M=L()(A,[["render",R],["__scopeId","data-v-4c234f1e"]]);var N=M,F={components:{Nav:N}};n("3a23");const J=L()(F,[["render",c]]);var V=J,G=n("6c02"),q={class:"d-flex flex-column align-items-center"};function z(e,t,n,c,a,o){var s=Object(r["z"])("ViewOptions"),i=Object(r["z"])("Post");return Object(r["s"])(),Object(r["f"])("div",q,[Object(r["i"])(s),(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(e.currentPosts,(function(e){return Object(r["s"])(),Object(r["d"])(i,{key:e._id,post:e},null,8,["post"])})),128))])}n("caad"),n("2532");var H={class:"card"},Y={class:"header card-body d-flex"},W={class:"me-3"},$=["src"],K={key:1,class:"avatar"},Q={class:"d-flex flex-column justify-content-center"},X={class:"m-0"},Z={class:"body card-body"},ee={key:0,class:"post-image"},te=["src"],ne={class:"fw-bold"},re={class:"card-title"},ce={class:"d-flex mb-3"},ae={class:"me-4"},oe={class:"card-body comment-input"},se={class:"card-body comments"};function ie(e,t,n,c,a,o){var s=Object(r["z"])("CommentInput"),i=Object(r["z"])("Comment");return Object(r["s"])(),Object(r["f"])("div",H,[Object(r["g"])("div",Y,[Object(r["g"])("div",W,[n.post.author.image?(Object(r["s"])(),Object(r["f"])("img",{key:0,src:n.post.author.image,alt:"Author avatar"},null,8,$)):(Object(r["s"])(),Object(r["f"])("div",K,Object(r["B"])(n.post.author.username.split("")[0]),1))]),Object(r["g"])("div",Q,[Object(r["g"])("p",X,Object(r["B"])(n.post.author.firstName&&n.post.author.lastName?n.post.author.firstName+" "+n.post.author.lastName:n.post.author.username),1),Object(r["g"])("span",null,Object(r["B"])(o.formattedTime),1)])]),Object(r["g"])("div",Z,[n.post.image?(Object(r["s"])(),Object(r["f"])("div",ee,[Object(r["g"])("img",{src:n.post.image,alt:"",role:"presentation","aria-hidden":"true"},null,8,te)])):Object(r["e"])("",!0),Object(r["g"])("span",ne,Object(r["B"])(n.post.category),1),Object(r["g"])("h5",re,Object(r["B"])(n.post.title),1),Object(r["g"])("p",{ref:"postBody",class:Object(r["o"])(["card-text",[!a.readMore&&"less"]])},Object(r["B"])(n.post.body),3)]),Object(r["g"])("div",{class:Object(r["o"])(["footer","card-body","d-flex",a.showLink?"justify-content-between":"justify-content-end"])},[a.showLink?(Object(r["s"])(),Object(r["f"])("p",{key:0,class:"card-link",onClick:t[0]||(t[0]=function(e){return a.readMore=!a.readMore})},Object(r["B"])(a.readMore?"Show less":"Read more"),1)):Object(r["e"])("",!0),Object(r["g"])("div",ce,[Object(r["g"])("div",ae,[Object(r["g"])("span",{class:Object(r["o"])(["bi",n.post.likes.includes(e.user._id)?"bi-heart-fill":"bi-heart"]),onClick:t[1]||(t[1]=function(){return o.toggleLike&&o.toggleLike.apply(o,arguments)})}," "+Object(r["B"])(n.post.likes.length),3)]),Object(r["g"])("div",null,[Object(r["g"])("span",{class:"bi bi-chat",onClick:t[2]||(t[2]=function(){return o.toggleComments&&o.toggleComments.apply(o,arguments)})}," "+Object(r["B"])(n.post.comments.length),1)])])],2),Object(r["J"])(Object(r["g"])("div",oe,[Object(r["i"])(s,{post:n.post},null,8,["post"])],512),[[r["G"],e.isAuthenticated&&a.showComments]]),Object(r["J"])(Object(r["g"])("div",se,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(n.post.comments,(function(e){return Object(r["s"])(),Object(r["d"])(i,{key:e._id,comment:e},null,8,["comment"])})),128))],512),[[r["G"],a.showComments&&n.post.comments.length>0]])])}var ue=function(e){return Object(r["v"])("data-v-6f91c8ca"),e=e(),Object(r["t"])(),e},le={key:0,class:"d-flex align-items-center"},be={class:"me-2"},de=["src"],me={key:1,class:"avatar"},pe=ue((function(){return Object(r["g"])("label",{class:"visually-hidden",for:"comment-body"},"Comment",-1)})),fe={class:"input-group"},Oe=ue((function(){return Object(r["g"])("i",{class:"bi bi-send"},null,-1)})),ge=[Oe];function je(e,t,n,c,a,o){return e.isAuthenticated?(Object(r["s"])(),Object(r["f"])("div",le,[Object(r["g"])("div",be,[e.user.image?(Object(r["s"])(),Object(r["f"])("img",{key:0,src:e.user.image,alt:"User avatar"},null,8,de)):(Object(r["s"])(),Object(r["f"])("div",me,Object(r["B"])(e.user.firstName?e.user.firstName.split("")[0]:e.user.username.split("")[0]),1))]),Object(r["g"])("form",{onSubmit:t[3]||(t[3]=Object(r["K"])((function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),["prevent"]))},[pe,Object(r["g"])("div",fe,[Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.body=e}),type:"text",class:"form-control",id:"comment-body",placeholder:"Write a comment...",required:"",onClick:t[1]||(t[1]=function(){return e.unsetCommentToEdit&&e.unsetCommentToEdit.apply(e,arguments)})},null,512),[[r["F"],a.body]]),Object(r["g"])("span",{onClick:t[2]||(t[2]=function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),class:"input-group-text"},ge)])],32)])):Object(r["e"])("",!0)}var he=Object(B["a"])("user"),ve=Object(B["a"])("comment"),ye={name:"CommentInput",props:{post:Object},data:function(){return{body:""}},methods:Object(I["a"])(Object(I["a"])({},ve.mapActions(["createComment","unsetCommentToEdit"])),{},{formSubmit:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.body){t.next=3;break}return t.abrupt("return");case 3:return n={postId:e.post._id,body:e.body,commenter:e.user._id},t.next=6,e.createComment(n);case 6:e.body="",t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}),computed:Object(I["a"])(Object(I["a"])({},he.mapState(["user"])),he.mapGetters(["isAuthenticated"]))};n("2ecb");const we=L()(ye,[["render",je],["__scopeId","data-v-6f91c8ca"]]);var ke=we,xe=(n("b64b"),function(e){return Object(r["v"])("data-v-64ac920a"),e=e(),Object(r["t"])(),e}),Se={class:"d-flex comment-wrapper py-3"},Te={class:"me-2"},_e=["src"],Pe={key:1,class:"avatar"},Ee={class:"mt-1 d-flex justify-content-between w-100"},Re={class:"w-100"},Ce=xe((function(){return Object(r["g"])("label",{class:"visually-hidden",for:"comment-body"},"Comment",-1)})),Ie={class:"input-group"},Be=xe((function(){return Object(r["g"])("i",{class:"bi bi-send-check"},null,-1)})),Ue=[Be],Ae=xe((function(){return Object(r["g"])("i",{class:"bi bi-x-circle"},null,-1)})),De=[Ae],Le={key:1},Me={class:"comment-tools"};function Ne(e,t,n,c,a,o){return Object(r["s"])(),Object(r["f"])("div",Se,[Object(r["g"])("div",Te,[n.comment.commenter.image?(Object(r["s"])(),Object(r["f"])("img",{key:0,src:n.comment.commenter.image,alt:"Commenter avatar"},null,8,_e)):(Object(r["s"])(),Object(r["f"])("div",Pe,Object(r["B"])(n.comment.commenter.username.split("")[0]),1))]),Object(r["g"])("div",Ee,[Object(r["g"])("div",Re,[Object(r["g"])("h4",null,Object(r["B"])(n.comment.commenter.firstName&&n.comment.commenter.lastName?n.comment.commenter.firstName+" "+n.comment.commenter.lastName:n.comment.commenter.username),1),Object(r["g"])("span",null,Object(r["B"])(o.formattedTime),1),Object.keys(e.commentToEdit).length>0&&e.commentToEdit._id===n.comment._id&&e.isAuthenticated&&e.user._id===n.comment.commenter._id?(Object(r["s"])(),Object(r["f"])("form",{key:0,onSubmit:t[3]||(t[3]=Object(r["K"])((function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),["prevent"]))},[Ce,Object(r["g"])("div",Ie,[Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.commentEditMode.body=e}),type:"text",class:"form-control",id:"comment-body",placeholder:"Write a comment...",required:""},null,512),[[r["F"],a.commentEditMode.body]]),Object(r["g"])("span",{class:"input-group-text",onClick:t[1]||(t[1]=function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)})},Ue),Object(r["g"])("span",{class:"input-group-text",onClick:t[2]||(t[2]=function(){return e.unsetCommentToEdit&&e.unsetCommentToEdit.apply(e,arguments)})},De)])],32)):(Object(r["s"])(),Object(r["f"])("p",Le,Object(r["B"])(n.comment.body),1))]),Object(r["J"])(Object(r["g"])("div",Me,[Object(r["g"])("span",{class:"bi bi-pencil me-3",onClick:t[4]||(t[4]=function(e){return o.onEdit(n.comment._id)})}),Object(r["g"])("span",{class:"bi bi-trash3",onClick:t[5]||(t[5]=function(e){return o.onDelete(n.comment._id)})})],512),[[r["G"],e.isAuthenticated&&e.user._id===n.comment.commenter._id&&(0===Object.keys(e.commentToEdit).length||e.commentToEdit._id!=n.comment._id)]])])])}var Fe=Object(B["a"])("user"),Je=Object(B["a"])("comment"),Ve={name:"Comment",props:{comment:Object},data:function(){return{commentEditMode:{}}},methods:Object(I["a"])(Object(I["a"])({},Je.mapActions(["deleteComment","setCommentToEdit","unsetCommentToEdit","updateComment"])),{},{onDelete:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!confirm("Are you sure you want to delete this comment?")){n.next=4;break}return n.next=4,t.deleteComment(e);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.error(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},onEdit:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.setCommentToEdit(e);case 3:t.commentEditMode=t.commentToEdit,n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.error(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},formSubmit:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.commentEditMode.body!=e.comment.body){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.updateComment(e.commentEditMode);case 5:e.unsetCommentToEdit(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),computed:Object(I["a"])(Object(I["a"])(Object(I["a"])(Object(I["a"])({},Fe.mapState(["user"])),Fe.mapGetters(["isAuthenticated"])),Je.mapState(["commentToEdit"])),{},{formattedTime:function(){var e=new Date(this.comment.createdAt),t=new Date,n=t-e;if(e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()&&e.getFullYear()===t.getFullYear()){var r=Math.floor(n/1e3%60),c=Math.floor(n/6e4%60),a=Math.floor(n/36e5%24);return a<1&&c<1?r+"s":a<1?c+"m":a+"h"}if(Math.floor(n/864e5)<1){var o=Math.floor(n/36e5%24);return o+"h"}return Math.floor(n/864e5)+"d"}})};n("b184");const Ge=L()(Ve,[["render",Ne],["__scopeId","data-v-64ac920a"]]);var qe=Ge,ze=Object(B["a"])("user"),He=Object(B["a"])("comment"),Ye=Object(B["a"])("post"),We={name:"Post",props:{post:Object},components:{CommentInput:ke,Comment:qe},data:function(){return{readMore:!1,showLink:!1,showComments:!1}},methods:Object(I["a"])(Object(I["a"])(Object(I["a"])({},He.mapActions(["unsetCommentToEdit"])),Ye.mapActions(["likePost","unlikePost"])),{},{toggleComments:function(){this.showComments=!this.showComments,this.unsetCommentToEdit()},toggleLike:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.isAuthenticated){t.next=3;break}return t.abrupt("return");case 3:if(!e.post.likes.includes(e.user._id)){t.next=8;break}return t.next=6,e.unlikePost({postId:e.post._id,userId:e.user._id});case 6:t.next=10;break;case 8:return t.next=10,e.likePost({postId:e.post._id,userId:e.user._id});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}),mounted:function(){this.$refs.postBody.clientHeight>=105&&(this.showLink=!0)},computed:Object(I["a"])(Object(I["a"])(Object(I["a"])({},ze.mapState(["user"])),ze.mapGetters(["isAuthenticated"])),{},{formattedTime:function(){var e=new Date(this.post.createdAt),t=new Date,n=t-e;if(e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()&&e.getFullYear()===t.getFullYear()){var r=Math.floor(n/1e3%60),c=Math.floor(n/6e4%60),a=Math.floor(n/36e5%24);return a<1&&c<1?r+"s":a<1?c+"m":a+"h"}if(Math.floor(n/864e5)<1){var o=Math.floor(n/36e5%24);return o+"h"}return Math.floor(n/864e5)+"d"}})};n("5391");const $e=L()(We,[["render",ie],["__scopeId","data-v-434129ae"]]);var Ke=$e,Qe=function(e){return Object(r["v"])("data-v-4be83afc"),e=e(),Object(r["t"])(),e},Xe={id:"view-options-wrapper",class:"mb-2 d-flex"},Ze={class:"d-flex align-items-end me-3"},et=Qe((function(){return Object(r["g"])("span",{class:"me-2"},"Filter:",-1)})),tt={class:"navbar-nav"},nt={class:"nav-item dropdown"},rt={class:"nav-link dropdown-toggle fw-bold",href:"#",id:"filterDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},ct={class:"dropdown-menu","aria-labelledby":"filterDropdown"},at={class:"d-flex align-items-end me-3"},ot=Qe((function(){return Object(r["g"])("span",{class:"me-2"},"Sort:",-1)})),st={class:"navbar-nav"},it={class:"nav-item dropdown"},ut={class:"nav-link dropdown-toggle fw-bold",href:"#",id:"sortDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},lt={class:"dropdown-menu","aria-labelledby":"sortDropdown"};function bt(e,t,n,c,a,o){return Object(r["s"])(),Object(r["f"])("div",Xe,[Object(r["g"])("div",Ze,[et,Object(r["g"])("ul",tt,[Object(r["g"])("li",nt,[Object(r["g"])("a",rt,Object(r["B"])(e.filterBy),1),Object(r["g"])("ul",ct,[Object(r["g"])("li",null,[Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:t[0]||(t[0]=function(t){return e.setFilterBy("all")})},"All")]),Object(r["g"])("li",null,[Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:t[1]||(t[1]=function(t){return e.setFilterBy("poetry")})},"Poetry")]),Object(r["g"])("li",null,[Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:t[2]||(t[2]=function(t){return e.setFilterBy("story")})},"Story")]),Object(r["g"])("li",null,[Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:t[3]||(t[3]=function(t){return e.setFilterBy("journal")})},"Journal")]),Object(r["g"])("li",null,[Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:t[4]||(t[4]=function(t){return e.setFilterBy("lyrics")})},"Lyrics")])])])])]),Object(r["g"])("div",at,[ot,Object(r["g"])("ul",st,[Object(r["g"])("li",it,[Object(r["g"])("a",ut,Object(r["B"])(e.sortBy),1),Object(r["g"])("ul",lt,[Object(r["g"])("li",null,[Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:t[5]||(t[5]=function(t){return e.setSortBy("new")})},"New")]),Object(r["g"])("li",null,[Object(r["g"])("a",{class:"dropdown-item",href:"#",onClick:t[6]||(t[6]=function(t){return e.setSortBy("top")})},"Top")])])])])])])}var dt=Object(B["a"])("post"),mt={name:"ViewOptions",methods:Object(I["a"])({},dt.mapActions(["setFilterBy","setSortBy"])),computed:Object(I["a"])({},dt.mapState(["filterBy","sortBy"]))};n("0632");const pt=L()(mt,[["render",bt],["__scopeId","data-v-4be83afc"]]);var ft=pt,Ot=Object(B["a"])("user"),gt=Object(B["a"])("post"),jt={name:"Home",components:{Post:Ke,ViewOptions:ft},methods:Object(I["a"])(Object(I["a"])({},gt.mapActions(["getPublicPosts"])),Ot.mapActions(["checkLoginStatus"])),created:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getPublicPosts();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},computed:Object(I["a"])(Object(I["a"])(Object(I["a"])({},Ot.mapGetters(["isAuthenticated"])),gt.mapGetters(["currentPosts"])),gt.mapState(["publicPosts"]))};const ht=L()(jt,[["render",z]]);var vt=ht,yt=function(e){return Object(r["v"])("data-v-7e51fa28"),e=e(),Object(r["t"])(),e},wt={class:"wrapper d-flex flex-column align-items-center"},kt={class:"card mb-3"},xt={class:"card-body"},St=yt((function(){return Object(r["g"])("h1",{class:"card-title h3 mb-3 fw-normal text-center"},"Register",-1)})),Tt={class:"mb-3"},_t=yt((function(){return Object(r["g"])("label",{for:"username",class:"form-label"},"Username",-1)})),Pt={class:"mb-3"},Et=yt((function(){return Object(r["g"])("label",{for:"password",class:"form-label"},"Password",-1)})),Rt={class:"mb-3"},Ct=yt((function(){return Object(r["g"])("label",{for:"confirm",class:"form-label"},"Confirm password",-1)})),It=yt((function(){return Object(r["g"])("button",{type:"submit",class:"btn btn-primary align-self-end"}," Submit ",-1)})),Bt=Object(r["h"])(" Already have an account? "),Ut=Object(r["h"])("Log in here");function At(e,t,n,c,a,o){var s=Object(r["z"])("router-link");return Object(r["s"])(),Object(r["f"])("div",wt,[Object(r["g"])("div",kt,[Object(r["g"])("div",xt,[St,Object(r["g"])("form",{onSubmit:t[3]||(t[3]=Object(r["K"])((function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),["prevent"])),class:"d-flex flex-column"},[Object(r["g"])("div",Tt,[_t,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.username=e}),id:"username",type:"text",class:"form-control",required:""},null,512),[[r["F"],a.username]])]),Object(r["g"])("div",Pt,[Et,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),id:"password",type:"password",class:"form-control",required:""},null,512),[[r["F"],a.password]])]),Object(r["g"])("div",Rt,[Ct,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.confirm=e}),id:"confirm",type:"password",class:"form-control",required:""},null,512),[[r["F"],a.confirm]])]),Object(r["J"])(Object(r["g"])("p",null,Object(r["B"])(e.registration),513),[[r["G"],e.registration]]),It],32)])]),Object(r["g"])("p",null,[Bt,Object(r["i"])(s,{to:"/login"},{default:Object(r["I"])((function(){return[Ut]})),_:1})])])}var Dt=Object(B["a"])("user"),Lt=Dt.mapActions,Mt=Dt.mapState,Nt={name:"Register",data:function(){return{username:"",password:"",confirm:""}},methods:Object(I["a"])(Object(I["a"])({},Lt(["registerUser"])),{},{formSubmit:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.password===e.confirm){t.next=5;break}return t.abrupt("return",alert("Please make sure password matches."));case 5:if(!(e.username.indexOf(" ")>=0||e.password.indexOf(" ")>=0)){t.next=7;break}return t.abrupt("return",alert("Please don't include any spaces in your username or password."));case 7:return t.next=9,e.registerUser({username:e.username,password:e.password});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}),computed:Object(I["a"])({},Mt(["registration"]))};n("b531");const Ft=L()(Nt,[["render",At],["__scopeId","data-v-7e51fa28"]]);var Jt=Ft,Vt=function(e){return Object(r["v"])("data-v-89181a54"),e=e(),Object(r["t"])(),e},Gt={class:"wrapper d-flex flex-column align-items-center"},qt={class:"card mb-3"},zt={class:"card-body"},Ht=Vt((function(){return Object(r["g"])("h1",{class:"card-title h3 mb-3 fw-normal text-center"},"Login",-1)})),Yt={class:"mb-3"},Wt=Vt((function(){return Object(r["g"])("label",{for:"username",class:"form-label"},"Username",-1)})),$t={class:"mb-3"},Kt=Vt((function(){return Object(r["g"])("label",{for:"password",class:"form-label"},"Password",-1)})),Qt=Vt((function(){return Object(r["g"])("button",{type:"submit",class:"btn btn-primary align-self-end"}," Log in ",-1)})),Xt=Object(r["h"])(" Don't have an account? "),Zt=Object(r["h"])("Register here");function en(e,t,n,c,a,o){var s=Object(r["z"])("router-link");return Object(r["s"])(),Object(r["f"])("div",Gt,[Object(r["g"])("div",qt,[Object(r["g"])("div",zt,[Ht,Object(r["g"])("form",{onSubmit:t[2]||(t[2]=Object(r["K"])((function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),["prevent"])),class:"d-flex flex-column"},[Object(r["g"])("div",Yt,[Wt,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.username=e}),id:"username",type:"text",class:"form-control",required:""},null,512),[[r["F"],a.username]])]),Object(r["g"])("div",$t,[Kt,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),id:"password",type:"password",class:"form-control",required:""},null,512),[[r["F"],a.password]])]),Qt],32)])]),Object(r["g"])("p",null,[Xt,Object(r["i"])(s,{to:"/register"},{default:Object(r["I"])((function(){return[Zt]})),_:1})])])}var tn=Object(B["a"])("user"),nn=tn.mapActions,rn={name:"Login",data:function(){return{username:"",password:""}},methods:Object(I["a"])(Object(I["a"])({},nn(["loginUser","checkLoginStatus"])),{},{formSubmit:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.loginUser({username:e.username,password:e.password});case 3:return t.next=5,e.checkLoginStatus();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}})};n("bd2d");const cn=L()(rn,[["render",en],["__scopeId","data-v-89181a54"]]);var an=cn,on=function(e){return Object(r["v"])("data-v-29ea2853"),e=e(),Object(r["t"])(),e},sn={class:"d-flex justify-content-center"},un={class:"card"},ln={class:"card-body d-flex justify-content-between"},bn=on((function(){return Object(r["g"])("h2",null,"Posts",-1)})),dn=on((function(){return Object(r["g"])("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#postModal"}," Create ",-1)})),mn={class:"card-body"};function pn(e,t,n,c,a,o){var s=Object(r["z"])("CreatePostModal"),i=Object(r["z"])("TablePosts");return Object(r["s"])(),Object(r["f"])("div",sn,[Object(r["g"])("div",un,[Object(r["g"])("div",ln,[bn,dn,Object(r["i"])(s)]),Object(r["g"])("div",mn,[Object(r["i"])(i,{posts:e.userPosts},null,8,["posts"])])])])}var fn=function(e){return Object(r["v"])("data-v-3f2df8bf"),e=e(),Object(r["t"])(),e},On={class:"table table-hover"},gn=fn((function(){return Object(r["g"])("thead",null,[Object(r["g"])("tr",null,[Object(r["g"])("th",{scope:"col"},"Title"),Object(r["g"])("th",{scope:"col"},"Date created"),Object(r["g"])("th",{scope:"col"},"Likes"),Object(r["g"])("th",{scope:"col"},"Comments"),Object(r["g"])("th",{class:"col"}," ")])],-1)}));function jn(e,t,n,c,a,o){var s=Object(r["z"])("TablePostItem");return Object(r["s"])(),Object(r["f"])("table",On,[gn,Object(r["g"])("tbody",null,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(n.posts,(function(e){return Object(r["s"])(),Object(r["d"])(s,{key:e._id,post:e},null,8,["post"])})),128))])])}var hn={scope:"row"};function vn(e,t,n,c,a,o){return Object(r["s"])(),Object(r["f"])("tr",null,[Object(r["g"])("td",hn,Object(r["B"])(n.post.title),1),Object(r["g"])("td",null,Object(r["B"])(o.formattedDate),1),Object(r["g"])("td",null,Object(r["B"])(n.post.likes.length),1),Object(r["g"])("td",null,Object(r["B"])(o.numOfComments),1),Object(r["g"])("td",null,[Object(r["g"])("span",{class:"bi bi-pencil me-3",onClick:t[0]||(t[0]=function(e){return o.onEdit(n.post._id)})}),Object(r["g"])("span",{onClick:t[1]||(t[1]=function(e){return o.onDelete(n.post._id)}),class:"bi bi-trash3"})])])}var yn=Object(B["a"])("post"),wn={name:"TablePostItem",data:function(){return{}},props:{post:Object},methods:Object(I["a"])(Object(I["a"])({},yn.mapActions(["deletePost","setPostToEdit"])),{},{onDelete:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!confirm('Delete the post "'+t.post.title+'"?')){n.next=4;break}return n.next=4,t.deletePost({id:e});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.error(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},onEdit:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.setPostToEdit(e);case 3:return n.next=5,t.$router.push({name:"EditPost",params:{id:e}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error(n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}),computed:{formattedDate:function(){var e=new Date(this.post.createdAt),t=e.getMonth(),n=e.getDate(),r=e.getFullYear();return t+"/"+n+"/"+r},numOfComments:function(){return this.post.comments.length}}};n("0d95");const kn=L()(wn,[["render",vn],["__scopeId","data-v-22213d50"]]);var xn=kn,Sn={name:"TablePosts",components:{TablePostItem:xn},props:{posts:Object}};n("562e");const Tn=L()(Sn,[["render",jn],["__scopeId","data-v-3f2df8bf"]]);var _n=Tn,Pn=function(e){return Object(r["v"])("data-v-fd28fa5a"),e=e(),Object(r["t"])(),e},En={class:"modal fade",id:"postModal",tabindex:"-1","aria-labelledby":"createPost","aria-hidden":"true"},Rn={class:"modal-dialog"},Cn={class:"modal-content"},In={class:"modal-header"},Bn=Pn((function(){return Object(r["g"])("h5",{class:"modal-title text-center",id:"createPost"}," Create a post ",-1)})),Un={type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",ref:"btnClose"},An={class:"modal-body"},Dn={class:"col-12"},Ln=Pn((function(){return Object(r["g"])("label",{for:"inputTitle",class:"form-label"},"Title",-1)})),Mn={class:"col-md-6"},Nn=Pn((function(){return Object(r["g"])("label",{for:"inputCategory",class:"form-label"},"Category",-1)})),Fn=Pn((function(){return Object(r["g"])("option",{disabled:"",value:""},"Choose...",-1)})),Jn=Pn((function(){return Object(r["g"])("option",null,"poetry",-1)})),Vn=Pn((function(){return Object(r["g"])("option",null,"story",-1)})),Gn=Pn((function(){return Object(r["g"])("option",null,"journal",-1)})),qn=Pn((function(){return Object(r["g"])("option",null,"lyrics",-1)})),zn=[Fn,Jn,Vn,Gn,qn],Hn={class:"col-md-6"},Yn=Pn((function(){return Object(r["g"])("label",{for:"inputImage",class:"form-label"},"Image",-1)})),Wn={class:"col-12"},$n=Pn((function(){return Object(r["g"])("label",{for:"inputBody",class:"form-label"},"Body",-1)})),Kn={class:"grow-wrap",ref:"growWrap"},Qn={class:"col-12"},Xn={class:"form-check"},Zn=Pn((function(){return Object(r["g"])("label",{class:"form-check-label",for:"isPublicCheck"}," Make public ",-1)})),er={class:"col-12"},tr=Pn((function(){return Object(r["g"])("div",{class:"alert alert-success",role:"alert"}," You have created a new post succesfully! Taking you back to the dashboard... ",-1)})),nr=[tr],rr={class:"col-12"},cr=Pn((function(){return Object(r["g"])("div",{class:"alert alert-danger",role:"alert"}," Oh no! Something went wrong. Please try again later. ",-1)})),ar=[cr],or=Pn((function(){return Object(r["g"])("div",{class:"col-12 d-flex justify-content-end"},[Object(r["g"])("button",{type:"button",class:"btn btn-outline-secondary me-3","data-bs-dismiss":"modal"}," Cancel "),Object(r["g"])("button",{type:"submit",class:"btn btn-primary"}," Create ")],-1)}));function sr(e,t,n,c,a,o){return Object(r["s"])(),Object(r["f"])("div",En,[Object(r["g"])("div",Rn,[Object(r["g"])("div",Cn,[Object(r["g"])("div",In,[Bn,Object(r["g"])("button",Un,null,512)]),Object(r["g"])("div",An,[Object(r["g"])("form",{onSubmit:t[6]||(t[6]=Object(r["K"])((function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),["prevent"])),class:"row g-3"},[Object(r["g"])("div",Dn,[Ln,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.title=e}),type:"text",class:"form-control",id:"inputTitle",placeholder:"Title",required:""},null,512),[[r["F"],a.title]])]),Object(r["g"])("div",Mn,[Nn,Object(r["J"])(Object(r["g"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.category=e}),id:"inputCategory",class:"form-select",required:""},zn,512),[[r["E"],a.category]])]),Object(r["g"])("div",Hn,[Yn,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.image=e}),type:"text",class:"form-control",id:"inputImage"},null,512),[[r["F"],a.image]])]),Object(r["g"])("div",Wn,[$n,Object(r["g"])("div",Kn,[Object(r["J"])(Object(r["g"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.body=e}),class:"form-control",id:"inputBody",placeholder:"Start typing here...",onInput:t[4]||(t[4]=function(){return o.updateHeight&&o.updateHeight.apply(o,arguments)}),required:""},null,544),[[r["F"],a.body]])],512)]),Object(r["g"])("div",Qn,[Object(r["g"])("div",Xn,[Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.isPublic=e}),class:"form-check-input",type:"checkbox",id:"isPublicCheck",value:"/"},null,512),[[r["D"],a.isPublic]]),Zn])]),Object(r["J"])(Object(r["g"])("div",er,nr,512),[[r["G"],a.created]]),Object(r["J"])(Object(r["g"])("div",rr,ar,512),[[r["G"],!1===a.created]]),or],32)])])])])}var ir=Object(B["a"])("user"),ur=Object(B["a"])("post"),lr={name:"CreatePostModal",props:{type:String},data:function(){return{category:"",title:"",body:"",image:"",author:"",isPublic:!1,created:null}},methods:Object(I["a"])(Object(I["a"])({},ur.mapActions(["createPost"])),{},{formSubmit:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={category:e.category,title:e.title,body:e.body,image:e.image,author:e.user._id,isPublic:e.isPublic},t.next=4,e.createPost(n);case 4:e.created=!0,setTimeout((function(){e.$refs.btnClose.click(),e.category="",e.title="",e.body="",e.image="",e.author="",e.isPublic=!1,e.created=null,e.updateHeight()}),3e3),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](0),e.created=!1,setTimeout((function(){e.created=null,e.updateHeight()}),3e3),console.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},updateHeight:function(){this.$refs.growWrap.dataset.replicatedValue=this.body}}),computed:Object(I["a"])({},ir.mapState(["user"]))};n("e5b6");const br=L()(lr,[["render",sr],["__scopeId","data-v-fd28fa5a"]]);var dr=br,mr=Object(B["a"])("post"),pr=Object(B["a"])("user"),fr={name:"Dashboard",components:{TablePosts:_n,CreatePostModal:dr},methods:Object(I["a"])({},mr.mapActions(["getUserPosts"])),created:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getUserPosts({_id:e.user._id});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},computed:Object(I["a"])(Object(I["a"])({},mr.mapState(["userPosts"])),pr.mapState(["user"]))};n("93d3");const Or=L()(fr,[["render",pn],["__scopeId","data-v-29ea2853"]]);var gr=Or,jr=function(e){return Object(r["v"])("data-v-715c87d8"),e=e(),Object(r["t"])(),e},hr={class:"d-flex justify-content-center"},vr={class:"form-wrapper d-flex flex-column justify-align-items-center"},yr=jr((function(){return Object(r["g"])("h5",{class:"text-center"}," Edit post ",-1)})),wr={class:"col-12"},kr=jr((function(){return Object(r["g"])("label",{for:"inputTitle",class:"form-label"},"Title:",-1)})),xr={class:"col-md-6"},Sr=jr((function(){return Object(r["g"])("label",{for:"inputCategory",class:"form-label"},"Category",-1)})),Tr=jr((function(){return Object(r["g"])("option",{disabled:"",value:""},"Choose...",-1)})),_r=jr((function(){return Object(r["g"])("option",null,"poetry",-1)})),Pr=jr((function(){return Object(r["g"])("option",null,"story",-1)})),Er=jr((function(){return Object(r["g"])("option",null,"journal",-1)})),Rr=jr((function(){return Object(r["g"])("option",null,"lyrics",-1)})),Cr=[Tr,_r,Pr,Er,Rr],Ir={class:"col-md-6"},Br=jr((function(){return Object(r["g"])("label",{for:"inputImage",class:"form-label"},"Image",-1)})),Ur={class:"col-12"},Ar=jr((function(){return Object(r["g"])("label",{for:"inputBody",class:"form-label"},"Body",-1)})),Dr={class:"grow-wrap",ref:"growWrap"},Lr={class:"col-12"},Mr={class:"form-check"},Nr=jr((function(){return Object(r["g"])("label",{class:"form-check-label",for:"isPublicCheck"}," Make public ",-1)})),Fr={class:"col-12"},Jr=jr((function(){return Object(r["g"])("div",{class:"alert alert-success",role:"alert"}," This post is now updated! Taking you back to the dashboard... ",-1)})),Vr=[Jr],Gr={class:"col-12"},qr=jr((function(){return Object(r["g"])("div",{class:"alert alert-danger",role:"alert"}," Oh no! Something went wrong. Please try again later. ",-1)})),zr=[qr],Hr={class:"col-12 d-flex justify-content-end"},Yr=jr((function(){return Object(r["g"])("button",{type:"submit",class:"btn btn-primary"}," Save changes ",-1)}));function Wr(e,t,n,c,a,o){return Object(r["s"])(),Object(r["f"])("div",hr,[Object(r["g"])("div",vr,[yr,e.postToEdit?(Object(r["s"])(),Object(r["f"])("form",{key:0,onSubmit:t[7]||(t[7]=Object(r["K"])((function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),["prevent"])),class:"row g-3"},[Object(r["g"])("div",wr,[kr,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.title=e}),type:"text",class:"form-control",id:"inputTitle",placeholder:"Title",required:""},null,512),[[r["F"],a.title]])]),Object(r["g"])("div",xr,[Sr,Object(r["J"])(Object(r["g"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.category=e}),id:"inputCategory",class:"form-select",required:""},Cr,512),[[r["E"],a.category]])]),Object(r["g"])("div",Ir,[Br,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.image=e}),type:"text",class:"form-control",id:"inputImage"},null,512),[[r["F"],a.image]])]),Object(r["g"])("div",Ur,[Ar,Object(r["g"])("div",Dr,[Object(r["J"])(Object(r["g"])("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.body=e}),class:"form-control",id:"inputBody",placeholder:"Start typing here...",required:"",onInput:t[4]||(t[4]=function(){return o.updateHeight&&o.updateHeight.apply(o,arguments)})},null,544),[[r["F"],a.body]])],512)]),Object(r["g"])("div",Lr,[Object(r["g"])("div",Mr,[Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.isPublic=e}),class:"form-check-input",type:"checkbox",id:"isPublicCheck",value:"/"},null,512),[[r["D"],a.isPublic]]),Nr])]),Object(r["J"])(Object(r["g"])("div",Fr,Vr,512),[[r["G"],e.updateSuccessful]]),Object(r["J"])(Object(r["g"])("div",Gr,zr,512),[[r["G"],!1===e.updateSuccessful]]),Object(r["g"])("div",Hr,[Object(r["g"])("button",{type:"button",class:"btn btn-outline-secondary me-3",onClick:t[6]||(t[6]=function(){return o.onCancel&&o.onCancel.apply(o,arguments)})}," Cancel "),Yr])],32)):Object(r["e"])("",!0)])])}var $r=Object(B["a"])("user"),Kr=Object(B["a"])("post"),Qr={name:"EditPost",data:function(){return{id:"",category:"",title:"",body:"",image:"",author:"",isPublic:""}},methods:Object(I["a"])(Object(I["a"])({},Kr.mapActions(["updatePost"])),{},{formSubmit:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={id:e.id,category:e.category,title:e.title,body:e.body,image:e.image,author:e.user._id,isPublic:e.isPublic},t.next=4,e.updatePost(n);case 4:setTimeout((function(){e.$router.push({name:"Dashboard"})}),3e3),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},onCancel:function(){this.$router.push({name:"Dashboard"})},updateHeight:function(){this.$refs.growWrap.dataset.replicatedValue=this.body}}),created:function(){this.id=this.postToEdit._id,this.category=this.postToEdit.category,this.title=this.postToEdit.title,this.body=this.postToEdit.body,this.image=this.postToEdit.image,this.author=this.postToEdit.author,this.isPublic=this.postToEdit.isPublic},mounted:function(){this.$refs.growWrap.dataset.replicatedValue=this.postToEdit.body},computed:Object(I["a"])(Object(I["a"])({},$r.mapState(["user"])),Kr.mapState(["postToEdit","updateSuccessful"]))};n("6f93");const Xr=L()(Qr,[["render",Wr],["__scopeId","data-v-715c87d8"]]);var Zr=Xr,ec=function(e){return Object(r["v"])("data-v-7b3cf1aa"),e=e(),Object(r["t"])(),e},tc={class:"d-flex justify-content-center"},nc={class:"card"},rc={class:"card-body d-flex justify-content-between"},cc={class:"card-body"},ac={class:"row g-3"},oc={class:"col-12"},sc=ec((function(){return Object(r["g"])("label",{for:"profileImage",class:"form-label"},"Image",-1)})),ic={class:"col-md-6"},uc=ec((function(){return Object(r["g"])("label",{for:"firstName",class:"form-label"},"First name",-1)})),lc={class:"col-md-6"},bc=ec((function(){return Object(r["g"])("label",{for:"lastName",class:"form-label"},"Last name",-1)})),dc={class:"card-body"},mc={class:"card-body"},pc={class:"alert alert-success",role:"alert"},fc={class:"alert alert-danger",role:"alert"};function Oc(e,t,n,c,a,o){return Object(r["s"])(),Object(r["f"])("div",tc,[Object(r["g"])("div",nc,[Object(r["g"])("div",rc,[Object(r["g"])("h2",null,"Welcome, "+Object(r["B"])(e.user.firstName?e.user.firstName:e.user.username)+"!",1),Object(r["g"])("button",{onClick:t[0]||(t[0]=function(){return o.formSubmit&&o.formSubmit.apply(o,arguments)}),type:"button",class:"btn btn-primary"}," Save changes ")]),Object(r["g"])("div",cc,[Object(r["g"])("form",ac,[Object(r["g"])("div",oc,[sc,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.image=e}),type:"text",class:"form-control",id:"profileImage"},null,512),[[r["F"],a.image]])]),Object(r["g"])("div",ic,[uc,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.firstName=e}),type:"text",class:"form-control",id:"firstName"},null,512),[[r["F"],a.firstName]])]),Object(r["g"])("div",lc,[bc,Object(r["J"])(Object(r["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.lastName=e}),type:"text",class:"form-control",id:"lastName"},null,512),[[r["F"],a.lastName]])])])]),Object(r["g"])("div",dc,[Object(r["g"])("button",{type:"button",class:"btn btn-danger",onClick:t[4]||(t[4]=function(){return o.handleDelete&&o.handleDelete.apply(o,arguments)})}," Delete account ")]),Object(r["J"])(Object(r["g"])("div",mc,[Object(r["J"])(Object(r["g"])("div",pc," Your profile was updated! ",512),[[r["G"],a.updateSuccessful]]),Object(r["J"])(Object(r["g"])("div",fc," Oh no, something went wrong! Please try again... ",512),[[r["G"],!a.updateSuccessful]])],512),[[r["G"],null!=a.updateSuccessful]])])])}var gc=Object(B["a"])("user"),jc={name:"Profile",data:function(){return{image:"",firstName:"",lastName:"",updateSuccessful:null}},methods:Object(I["a"])(Object(I["a"])({},gc.mapActions(["updateUser","deleteAccount","checkLoginStatus"])),{},{formSubmit:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={_id:e.user._id,image:e.image,firstName:e.firstName,lastName:e.lastName},t.next=4,e.updateUser(n);case 4:e.updateSuccessful=!0,setTimeout((function(){e.updateSuccessful=null}),5e3),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0.message),e.updateSuccessful=!1,setTimeout((function(){e.updateSuccessful=null}),5e3);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleDelete:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!confirm("Are you sure you want to delete your account?")){t.next=6;break}return t.next=4,e.deleteAccount();case 4:return t.next=6,e.checkLoginStatus();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),created:function(){this.image=this.user.image,this.firstName=this.user.firstName,this.lastName=this.user.lastName},computed:Object(I["a"])({},gc.mapState(["user"]))};n("943d");const hc=L()(jc,[["render",Oc],["__scopeId","data-v-7b3cf1aa"]]);var vc=hc,yc={class:"d-flex flex-column align-items-center"};function wc(e,t,n,c,a,o){var s=Object(r["z"])("Post");return Object(r["s"])(),Object(r["f"])("div",yc,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(e.userLikedPosts,(function(e){return Object(r["s"])(),Object(r["d"])(s,{key:e._id,post:e},null,8,["post"])})),128))])}var kc=Object(B["a"])("post"),xc={name:"Favorites",components:{Post:Ke},computed:Object(I["a"])({},kc.mapGetters(["userLikedPosts"]))};const Sc=L()(xc,[["render",wc]]);var Tc=Sc,_c=n("2909"),Pc=(n("99af"),n("c740"),n("a434"),n("4e82"),n("4de4"),n("d3b7"),n("0e44")),Ec=n("bc3a"),Rc=n.n(Ec),Cc={namespaced:!0,state:{registration:null,user:{}},mutations:{SET_REGS:function(e,t){return e.registration=t},SET_USER:function(e,t){return e.user=t}},actions:{demoLogin:function(){return Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rc.a.post("api/user/login",{username:"demo",password:"pass123"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.error(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},registerUser:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Rc.a.post("api/user/register",t);case 4:r("SET_REGS","Congratulations! You have successfully registered."),setTimeout((function(){r("SET_REGS",null),Lc.push({name:"Login"})}),3e3),n.next=13;break;case 8:n.prev=8,n.t0=n["catch"](1),console.error(n.t0.message),r("SET_REGS","Oh no, something went wrong! Please try again later."),setTimeout((function(){r("SET_REGS",null)}),3e3);case 13:case"end":return n.stop()}}),n,null,[[1,8]])})))()},loginUser:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rc.a.post("api/user/login",t);case 3:Lc.push({name:"Home"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},logoutUser:function(e){return Object(C["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Rc.a.get("api/user/logout");case 4:n("SET_USER",{}),n("SET_REGS",null),Lc.push({name:"Login"}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},updateUser:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.state,n.prev=1,n.next=4,Rc.a.patch("api/user/"+t._id,t);case 4:a=n.sent,o=Object(I["a"])(Object(I["a"])({},c.user),a.data),r("SET_USER",o),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),console.error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},checkLoginStatus:function(e){return Object(C["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Rc.a.get("/api/user/authenticated");case 4:r=t.sent,n("SET_USER",r.data),Lc.push({name:"Home"}),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),console.error(t.t0.message),n("SET_USER",{}),Lc.push({name:"Login"});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()},deleteAccount:function(e){return Object(C["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.prev=1,t.next=4,Rc.a.delete("api/user/".concat(r.user._id));case 4:n("SET_USER",{}),Lc.push({name:"Login"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}},getters:{isAuthenticated:function(e){return 0!==Object.keys(e.user).length}}},Ic={namespaced:!0,state:{publicPosts:[],userPosts:[],postToEdit:{},updateSuccessful:null,filterBy:"all",sortBy:"new"},mutations:{SET_PUBLIC_POSTS:function(e,t){return e.publicPosts=t},SET_USER_POSTS:function(e,t){return e.userPosts=t},SET_POST_TO_EDIT:function(e,t){return e.postToEdit=t},SET_UPDATE_STAT:function(e,t){return e.updateSuccessful=t},SET_FILTER_BY:function(e,t){return e.filterBy=t},SET_SORT_BY:function(e,t){return e.sortBy=t}},actions:{getPublicPosts:function(e){return Object(C["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Rc.a.get("api/posts");case 4:r=t.sent,n("SET_PUBLIC_POSTS",r.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getUserPosts:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Rc.a.get("api/posts/user/".concat(t._id));case 4:c=n.sent,r("SET_USER_POSTS",c.data),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},createPost:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.state,n.prev=1,n.next=4,Rc.a.post("api/posts",t);case 4:a=n.sent,r("SET_USER_POSTS",[a.data].concat(Object(_c["a"])(c.userPosts))),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},deletePost:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.state,n.prev=1,n.next=4,Rc.a.delete("api/posts/".concat(t.id));case 4:a=Object(_c["a"])(c.userPosts),o=a.findIndex((function(e){return e._id===t.id})),a.splice(o,1),r("SET_USER_POSTS",a),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),console.error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},setPostToEdit:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Rc.a.get("api/posts/".concat(t));case 4:c=n.sent,r("SET_POST_TO_EDIT",c.data),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},updatePost:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.state,n.prev=1,n.next=4,Rc.a.put("/api/posts/".concat(t.id),t);case 4:a=n.sent,o=Object(_c["a"])(c.userPosts),s=o.findIndex((function(e){return e._id===t.id})),o.splice(s,1,a.data),r("SET_USER_POSTS",o),r("SET_UPDATE_STAT",!0),setTimeout((function(){r("SET_UPDATE_STAT",null)}),3e3),n.next=18;break;case 13:n.prev=13,n.t0=n["catch"](1),console.error(n.t0.message),r("SET_UPDATE_STAT",!1),setTimeout((function(){r("SET_UPDATE_STAT",null)}),3e3);case 18:case"end":return n.stop()}}),n,null,[[1,13]])})))()},likePost:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,c=e.state,n.prev=1,a=Object(_c["a"])(c.publicPosts),o=a.findIndex((function(e){return e._id===t.postId})),!a[o].likes.includes(t.userId)){n.next=6;break}return n.abrupt("return");case 6:return a[o].likes.push(t.userId),r("SET_PUBLIC_POSTS",a),n.next=10,Rc.a.patch("/api/posts/like/".concat(t.postId),t);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](1),console.error(n.t0.message);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})))()},unlikePost:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,c=e.state,n.prev=1,a=Object(_c["a"])(c.publicPosts),o=a.findIndex((function(e){return e._id===t.postId})),a[o].likes.includes(t.userId)){n.next=6;break}return n.abrupt("return");case 6:return s=a[o].likes.findIndex((function(e){return e===t.userId})),a[o].likes.splice(s,1),r("SET_PUBLIC_POSTS",a),n.next=11,Rc.a.patch("/api/posts/unlike/".concat(t.postId),t);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](1),console.error(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))()},setFilterBy:function(e,t){var n=e.commit;n("SET_FILTER_BY",t)},setSortBy:function(e,t){var n=e.commit;n("SET_SORT_BY",t)}},getters:{currentPosts:function(e){var t=Object(_c["a"])(e.publicPosts);return"all"===e.filterBy?"new"===e.sortBy?t:t.sort((function(e,t){return t.likes.length-e.likes.length})):"new"===e.sortBy?t.filter((function(t){return t.category===e.filterBy})):t.filter((function(t){return t.category===e.filterBy})).sort((function(e,t){return t.likes.length-e.likes.length}))},userLikedPosts:function(e,t,n){var r=Object(_c["a"])(e.publicPosts);return r.filter((function(e){return e.likes.includes(n.user.user._id)}))}}},Bc={namespaced:!0,state:{commentToEdit:{},updateSuccessful:null},mutations:{SET_COMMENT_TO_EDIT:function(e,t){return e.commentToEdit=t},SET_UPDATE_STAT:function(e,t){return e.updateSuccessful=t}},actions:{createComment:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.rootState,n.prev=1,n.next=4,Rc.a.post("api/comments",{body:t.body,commenter:t.commenter});case 4:return a=n.sent,n.next=7,Rc.a.patch("/api/posts/".concat(t.postId),a.data);case 7:o=n.sent,s=Object(_c["a"])(c.post.publicPosts),i=s.findIndex((function(e){return e._id===t.postId})),s.splice(i,1,o.data),r("post/SET_PUBLIC_POSTS",s,{root:!0}),n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](1),console.error(n.t0.message);case 17:case"end":return n.stop()}}),n,null,[[1,14]])})))()},setCommentToEdit:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Rc.a.get("api/comments/".concat(t));case 4:c=n.sent,r("SET_COMMENT_TO_EDIT",c.data),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},unsetCommentToEdit:function(e){var t=e.commit,n=e.state;0!==Object.keys(n.commentToEdit).length&&t("SET_COMMENT_TO_EDIT",{})},updateComment:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,s,i,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.rootState,n.prev=1,n.next=4,Rc.a.put("/api/comments/".concat(t._id),t);case 4:a=n.sent,o=c.user.user,a.data.commenter=o,s=Object(_c["a"])(c.post.publicPosts),i=s.findIndex((function(e){return e.comments.filter((function(e){return e._id===t._id}))[0]})),u=s[i].comments.findIndex((function(e){return e._id===t._id})),s[i].comments.splice(u,1,a.data),r("post/SET_PUBLIC_POSTS",s,{root:!0}),r("SET_UPDATE_STAT",!0),setTimeout((function(){r("SET_UPDATE_STAT",null)}),3e3),n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](1),console.error(n.t0.message);case 19:case"end":return n.stop()}}),n,null,[[1,16]])})))()},deleteComment:function(e,t){return Object(C["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,c=e.rootState,n.prev=1,n.next=4,Rc.a.delete("api/comments/".concat(t));case 4:a=Object(_c["a"])(c.post.publicPosts),o=a.findIndex((function(e){return e.comments.filter((function(e){return e._id===t}))[0]})),s=a[o].comments.findIndex((function(e){return e._id===t})),a[o].comments.splice(s,1),r("post/SET_PUBLIC_POSTS",a,{root:!0}),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](1),console.error(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()}},getters:{}},Uc=Object(B["b"])({plugins:[Object(Pc["a"])()],modules:{user:Cc,post:Ic,comment:Bc}}),Ac=[{path:"/",name:"Home",component:vt},{path:"/register",name:"Register",component:Jt,meta:{authRequired:!1}},{path:"/login",name:"Login",component:an,meta:{authRequired:!1}},{path:"/dashboard",name:"Dashboard",component:gr,meta:{authRequired:!0}},{path:"/post/:id",name:"EditPost",component:Zr,meta:{authRequired:!0}},{path:"/profile",name:"Profile",component:vc,meta:{authRequired:!0}},{path:"/favorites",name:"Favorites",component:Tc,meta:{authRequired:!0}}],Dc=Object(G["a"])({history:Object(G["b"])("/"),routes:Ac});Dc.beforeEach((function(e,t,n){var r=Uc.getters["user/isAuthenticated"];"authRequired"in e.meta&&e.meta.authRequired?r?n():n("/login"):"authRequired"in e.meta&&!e.meta.authRequired&&r?n("/"):n()}));var Lc=Dc;Object(r["c"])(V).use(Uc).use(Lc).mount("#app")},"5e24":function(e,t,n){},6437:function(e,t,n){},"6f93":function(e,t,n){"use strict";n("971b")},"8dfd":function(e,t,n){},9165:function(e,t,n){},"93d3":function(e,t,n){"use strict";n("4f2d")},"943d":function(e,t,n){"use strict";n("af12")},"971b":function(e,t,n){},ac05:function(e,t,n){},af12:function(e,t,n){},b184:function(e,t,n){"use strict";n("6437")},b531:function(e,t,n){"use strict";n("e021")},bd2d:function(e,t,n){"use strict";n("51f6")},d2e7:function(e,t,n){"use strict";n("0411")},e021:function(e,t,n){},e5b6:function(e,t,n){"use strict";n("fe69")},e82b:function(e,t,n){},fe69:function(e,t,n){}});
//# sourceMappingURL=app.4f64ce9b.js.map